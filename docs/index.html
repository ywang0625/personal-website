<!DOCTYPE html>
<html>
<head>
  <!-- Define needed values -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/docs/style.css"> 

  <!-- Website Title -->
  <title>Hello!</title>
  <style>
    #gif {
      display: none;
    }
  </style>
</head>

<script>
  function name_check(){

    console.log("Checking names...");
    console.log("First name:", fn_check);
    console.log("Last name:", ln_check);

    var ln_check = document.getElementById("ln_check").value;
    var fn_check = document.getElementById("fn_check").value;
    var today = new Date();
    var birthday = new Date(today.getFullYear(), 3, 27);

    // Last Name
    const ln1 = "wang";
    const ln2 = "王";

    // First Name
    const fn1 = "libang";
    const fn2 = "li-bang";
    const fn3 = "禮邦";

    // Remove all white space & lowercase from both strings
    ln_check = ln_check.replace(/\s/g, '').toLowerCase();
    fn_check = fn_check.replace(/\s/g, '').toLowerCase();

    //date check
    if(today != birthday){
      document.getElementById("message").innerHTML = "今天不是你的生日喔！";
    }


    // Compare the last name
    if (ln_check === ln1 || ln_check === ln2) {
      // Compare the first name
      if (fn_check === fn1 || fn_check === fn2 || fn_check === fn3) {
        document.getElementById("message").innerHTML = "阿爸生日快樂! Happy Birthday!";
        document.getElementById("gif").style.display = "block";
        return;
      }
    }
    else{
      document.getElementById("message").innerHTML = "名字是不是寫錯了？再試一試";    
    }

  }

  /**
function main(){
    // document.getElementById("form").submit();
    event.preventDefault();
    console.log("Main function called");
    console.log("First name:", fn);
    console.log("Last name:", ln);

    var fn = document.getElementById('fn_check').value;
    var ln = document.getElementById('ln_check').value;  

    localStorage.setItem('fn',fn);
    localStorage.setItem('ln',ln);

    console.log(localStorage.getItem('fn'));
    console.log(localStorage.getItem('ln'));

    name_check(ln, fn);
}
*/
</script>

<body>

  <!-- Website Platform Page -->
  <h1>Welcome!</h1>
  <h3>請在下方輸入你的名字(中英都可以)</h3>
  <br>
  <!-- Form -->
    <label for="fn_check">First name:</label>
    <input type="text" id="fn_check" name="fn_check"><br><br>

    <label for="ln_check">Last name:</label>
    <input type="text" id="ln_check" name="ln_check"><br><br>

    <button onclick="name_check()">Submit</button>
    <p id = "message"></p>
    <p id = "gif"><img src = "/docs/bday.gif" alt = "bday"></p>

</body>
</html>
